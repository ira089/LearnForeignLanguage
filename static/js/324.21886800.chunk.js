"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[324],{324:function(e,a,n){n.r(a),n.d(a,{default:function(){return b}});var r=n(2791),t=n(1413),s=n(5861),i=n(9439),l=n(7757),c=n.n(l),o=n(4420),u=n(7349),d=n(1901),m=n(7269),p=n(5847),h=n(770),x=n(473),f=n(5434),v=n(6534),_=n(184),j=function(){var e=(0,x.a)().userId,a=(0,o.I0)();(0,r.useEffect)((function(){var e=f.I.onAuthStateChanged((function(e){e&&(0,v.jc)(e.uid,a)}));return function(){return e()}}),[a]);var n=(0,o.v9)(u.e),l=(0,r.useState)([]),j=(0,i.Z)(l,2),b=j[0],N=j[1],w=(0,r.useState)([]),k=(0,i.Z)(w,2),Z=k[0],g=k[1];(0,r.useEffect)((function(){var n=function(){var n=(0,s.Z)(c().mark((function n(){var r,s,l;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,v.XD)();case 3:return r=n.sent,s=Object.entries(r).map((function(e){var a=(0,i.Z)(e,2),n=a[0],r=a[1];return(0,t.Z)({id:n},r)})),N(s),n.next=8,(0,v.Rn)(e);case 8:l=n.sent,a((0,h.Lo)(l)),g(l),n.next=15;break;case 13:n.prev=13,n.t0=n.catch(0);case 15:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(){return n.apply(this,arguments)}}();n()}),[a,e]),(0,r.useEffect)((function(){g(Array.isArray(b)&&Array.isArray(n)?b.filter((function(e){return n.includes(e.id)})):[])}),[n]);var I=(0,r.useState)(!1),y=(0,i.Z)(I,2),L=y[0],B=y[1],C=(0,r.useState)([]),A=(0,i.Z)(C,2),R=A[0],S=A[1],T=(0,r.useState)(1),E=(0,i.Z)(T,2),O=E[0],H=E[1];(0,r.useEffect)((function(){var e=Z.length<=4*O;e!==L&&B(e);var a=Z.slice(0,4*O);JSON.stringify(a)!==JSON.stringify(R)&&S(a)}),[O,Z,L,R]);var z={variant:!1},P=R.map((function(e){return(0,_.jsx)(m.Z,{item:e,isVariant:z},e.id)})),F=Boolean(R.length);return(0,_.jsxs)("div",{className:d.Z.wraplist,children:[F?(0,_.jsx)("ul",{children:P}):(0,_.jsx)("p",{children:"Sorry, you don't have any selected teachers."}),!L&&(0,_.jsx)("div",{className:d.Z.bntLoad,children:(0,_.jsx)(p.Z,{type:"button",onClick:function(){L||H(O+1)},children:"Load More"})})]})},b=function(){return(0,_.jsx)(j,{})}},7269:function(e,a,n){n.d(a,{Z:function(){return S}});var r=n(5861),t=n(9439),s=n(7757),i=n.n(s),l=n(2791),c=n(4420),o=n(2187),u=n(2202),d=n(4316),m=n(7349),p="moreTeacherItem_text__cG0oB",h="moreTeacherItem_listReviews__L7ek6",x="moreTeacherItem_itemLevel__-jKIf",f="moreTeacherItem_nameReviews__hVq3j",v="moreTeacherItem_comment__-fe0L",_=n(184),j=function(e){var a=e.item,n=a.reviews,r=a.experience;return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("p",{className:p,children:[" ",r]}),(0,_.jsx)("ul",{className:h,children:n.map((function(e){return(0,_.jsxs)("li",{className:x,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:f,children:e.reviewer_name}),(0,_.jsxs)("div",{children:[(0,_.jsx)(d.QJe,{color:"#ffc531",size:16}),(0,_.jsxs)("span",{children:[e.reviewer_rating,".0"]})]})]}),(0,_.jsx)("p",{className:v,children:e.comment})]})}))})]})},b=n(5847),N=n(3083),w=n(1413),k=n(1134),Z=n(4695),g=n(4977),I={wrap:"modalBook_wrap__RjzJU",title:"modalBook_title__w2lVb",text:"modalBook_text__DCHwL",wrapAvatar:"modalBook_wrapAvatar__qx-Qq",avatar:"modalBook_avatar__ogDZb",spanTeacher:"modalBook_spanTeacher__v6CKj",name:"modalBook_name__kweM+",titleLanguages:"modalBook_titleLanguages__Mv5Ud",form:"modalBook_form__KOWYl",wrapRadio:"modalBook_wrapRadio__9v4kO",labelradio:"modalBook_labelradio__+pW8j",radio:"modalBook_radio__yg4zh",wrapInput:"modalBook_wrapInput__zZI71",label:"modalBook_label__qvF4O",input:"modalBook_input__2nIkB",span:"modalBook_span__LMQOJ"},y=function(e){var a,n,t,s=e.item,l=e.onClose,c=s.avatar_url,o=s.name,u=s.surname,d=s.languages,m=function(){var e=(0,r.Z)(i().mark((function e(a){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={fullName:a.name,email:a.email,phone:a.phone},e.next=3,g.HT.isValid(n);case 3:if(r=e.sent,console.log(r),!r){e.next=7;break}return e.abrupt("return");case 7:f(),l();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),p=(0,k.cI)({initialValues:{fullName:"",email:"",phone:""},mode:"onBlur",resolver:(0,Z.X)(g.HT)}),h=p.register,x=p.handleSubmit,f=p.reset,v=p.formState,j=v.errors,N=v.isValid;return(0,_.jsxs)("div",{className:I.wrap,children:[(0,_.jsx)("h2",{className:I.title,children:"Book trial lesson"}),(0,_.jsx)("p",{className:I.text,children:"Our experienced tutor will assess your current language level, discuss your learning goals, and tailor the lesson to your specific needs."}),(0,_.jsxs)("div",{className:I.wrapAvatar,children:[(0,_.jsx)("img",{className:I.avatar,alt:o,src:c}),(0,_.jsxs)("div",{className:I.nameLanguages,children:[(0,_.jsx)("span",{className:I.spanTeacher,children:"Your teacher"}),(0,_.jsx)("h3",{className:I.name,children:"".concat(o," ").concat(u)})]})]}),(0,_.jsxs)("h3",{className:I.titleLanguages,children:["What is your main reason for learning ","".concat(d[0]),"?"]}),(0,_.jsxs)("form",{className:I.form,onSubmit:x(m),autoComplete:"off",children:[(0,_.jsxs)("div",{className:I.wrapRadio,children:[(0,_.jsxs)("label",{className:I.labelradio,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.radio},h("radio")),{},{name:"radio",value:"career",type:"radio",checked:!0})),"Career and business"]}),(0,_.jsxs)("label",{className:I.labelradio,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.radio},h("radio")),{},{name:"radio",value:"kids",type:"radio"})),"Lesson for kids"]}),(0,_.jsxs)("label",{className:I.labelradio,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.radio},h("radio")),{},{name:"radio",value:"living",type:"radio"})),"Living abroad"]}),(0,_.jsxs)("label",{className:I.labelradio,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.radio},h("radio")),{},{name:"radio",value:"exams",type:"radio"})),"Exams and coursework"]}),(0,_.jsxs)("label",{className:I.labelradio,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.radio},h("radio")),{},{name:"radio",value:"hobby",type:"radio"})),"Culture, travel or hobby"]})]}),(0,_.jsxs)("div",{className:I.wrapInput,children:[(0,_.jsxs)("label",{className:I.label,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.input},h("fullName")),{},{name:"fullName",placeholder:"Full Name",type:"text"})),(null===j||void 0===j?void 0:j.fullName)&&(0,_.jsx)("span",{className:I.span,children:(null===j||void 0===j||null===(a=j.fullName)||void 0===a?void 0:a.message)||"Errors!"})]}),(0,_.jsxs)("label",{className:I.label,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.input},h("email")),{},{name:"email",placeholder:"Email",type:"email"})),(null===j||void 0===j?void 0:j.email)&&(0,_.jsx)("span",{className:I.span,children:(null===j||void 0===j||null===(n=j.email)||void 0===n?void 0:n.message)||"Errors!"})]}),(0,_.jsxs)("label",{className:I.label,children:[(0,_.jsx)("input",(0,w.Z)((0,w.Z)({className:I.input},h("phone")),{},{name:"phone",placeholder:"Phone number",type:"phone"})),(null===j||void 0===j?void 0:j.phone)&&(0,_.jsx)("span",{className:I.span,children:(null===j||void 0===j||null===(t=j.phone)||void 0===t?void 0:t.message)||"Errors!"})]})]}),(0,_.jsx)(b.Z,{type:"submit",disabled:!N,children:"Book"})]})]})},L=n(473),B=n(770),C=n(2564),A={wrapItem:"teacherItem_wrapItem__xsTec",wrapAvatar:"teacherItem_wrapAvatar__xi+kh",avatar:"teacherItem_avatar__RQElj",wrapTitls:"teacherItem_wrapTitls__z4hiw",span:"teacherItem_span__NE4qK",name:"teacherItem_name__bpnPF",wrapDetails:"teacherItem_wrapDetails__KmnUX",listItem:"teacherItem_listItem__k9WtJ",btnHeart:"teacherItem_btnHeart__2jqXR",text:"teacherItem_text__Ug-Fb",textP:"teacherItem_textP__3AuRh",speaks:"teacherItem_speaks__FiICo",btnRead:"teacherItem_btnRead__ohf+k",listLevel:"teacherItem_listLevel__EkGT5",itemLevel:"teacherItem_itemLevel__8Cxkd",btnLesson:"teacherItem_btnLesson__pOFAu"},R=n(6534),S=function(e){var a=e.item,n=e.isVariant,s=(0,L.a)(),p=s.isAuth,h=s.userId,x=n.variant,f=a.avatar_url,v=a.name,w=a.surname,k=a.languages,Z=a.levels,g=a.rating,I=a.id,S=a.price_per_hour,T=a.lessons_done,E=a.lesson_info,O=a.conditions,H=(0,c.I0)(),z=(0,c.v9)(m.e)[I],P=(0,l.useState)([]),F=(0,t.Z)(P,2),U=F[0],V=F[1],D=(0,l.useState)(!1),J=(0,t.Z)(D,2),q=J[0],Q=J[1];(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,R.Rn)(h);case 3:a=e.sent,H((0,B.Lo)(a)),V(a),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[H,h]);var W=!!Array.isArray(U)&&U.includes(I),K=function(){var e=(0,r.Z)(i().mark((function e(a){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=3;break}return C.Am.warning("This functionality is available only to authorized users!"),e.abrupt("return");case 3:if(!z){e.next=10;break}return e.next=6,(0,R.hP)(h,a);case 6:H((0,B.Ni)(a)),Q(!1),e.next=14;break;case 10:return e.next=12,(0,R.wr)(h,a);case 12:H((0,B.a3)(a)),Q(!0);case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),X=(0,l.useState)(!1),M=(0,t.Z)(X,2),G=M[0],Y=M[1],$=(0,l.useState)(!1),ee=(0,t.Z)($,2),ae=ee[0],ne=ee[1],re=function(){ne(!1)};return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("li",{id:I,className:A.wrapItem,children:[(0,_.jsx)("div",{className:A.wrapAvatar,children:(0,_.jsx)("img",{className:A.avatar,alt:v,src:f})}),(0,_.jsxs)("div",{className:A.wrapCart,children:[(0,_.jsxs)("div",{className:A.wrapTitls,children:[(0,_.jsxs)("div",{className:A.nameLanguages,children:[(0,_.jsx)("span",{className:A.span,children:"Languages"}),(0,_.jsx)("h3",{className:A.name,children:"".concat(v," ").concat(w)})]}),(0,_.jsxs)("ul",{className:A.wrapDetails,children:[(0,_.jsxs)("li",{className:A.listItem,children:[(0,_.jsx)(o.tUd,{size:16}),"Lessons online"]}),(0,_.jsxs)("li",{className:A.listItem,children:["Lessons done:",T]}),(0,_.jsxs)("li",{className:A.listItem,children:[(0,_.jsx)(d.QJe,{color:"#ffc531",size:16}),"Rating:",g]}),(0,_.jsxs)("li",{className:A.listItem,children:["Price/1hour:",(0,_.jsxs)("span",{children:[S,"$"]})]})]}),(0,_.jsx)("div",{children:x&&(0,_.jsx)("button",{className:A.btnHeart,type:"submit",onClick:function(){return K(a.id)},children:W||q?(0,_.jsx)(d.$0H,{size:24,color:" #f4c550"}):(0,_.jsx)(u.BgW,{size:24})})})]}),(0,_.jsxs)("div",{className:A.text,children:[(0,_.jsxs)("p",{className:A.textP,children:[(0,_.jsx)("span",{children:"Speaks:"}),(0,_.jsx)("span",{className:A.speaks,children:k.join(", ")})]}),(0,_.jsxs)("p",{className:A.textP,children:[(0,_.jsx)("span",{children:"Lesson Info:"}),E," "]}),(0,_.jsxs)("p",{className:A.textP,children:[(0,_.jsx)("span",{children:"Conditions:"}),O]})]}),G?(0,_.jsx)(j,{item:a}):(0,_.jsx)("button",{type:"button",className:A.btnRead,onClick:function(){Y(!0)},children:"Read more"}),(0,_.jsx)("ul",{className:A.listLevel,children:Z.map((function(e){return(0,_.jsx)("li",{className:A.itemLevel,children:e})}))}),G&&(0,_.jsx)("div",{className:A.btnLesson,children:(0,_.jsx)(b.Z,{type:"button",onClick:function(){ne(!0)},children:"Book trial lesson"})})]})]},I),(0,_.jsx)(N.Z,{isOpen:ae,onClose:re,width:600,height:972,children:(0,_.jsx)(y,{onClose:re,item:a})})]})}},6534:function(e,a,n){n.d(a,{Rn:function(){return p},XD:function(){return m},hP:function(){return u},jc:function(){return d},wr:function(){return o}});var r=n(5861),t=n(7757),s=n.n(t),i=n(2685),l=n(770),c=n(5434),o=function(){var e=(0,r.Z)(s().mark((function e(a,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.t8)((0,i.iH)(c.db,"favorites/".concat(a,"/").concat(n)),!0);case 2:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(s().mark((function e(a,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Od)((0,i.iH)(c.db,"favorites/".concat(a,"/").concat(n)));case 2:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(s().mark((function e(a,n){var r,t,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,i.iH)(c.db,"favorites/".concat(a)),e.next=3,(0,i.U2)(r);case 3:(t=e.sent).exists()?(o=t.val(),n((0,l.Lo)(o))):n((0,l.Lo)({}));case 5:case"end":return e.stop()}}),e)})));return function(a,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(0,i.iH)(c.db,"teachers"),e.next=3,(0,i.U2)(a);case 3:if(!(n=e.sent).exists()){e.next=8;break}return e.abrupt("return",Object.values(n.val()));case 8:return e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(a){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,i.iH)(c.db,"favorites/".concat(a)),e.next=3,(0,i.U2)(n);case 3:if(!(r=e.sent).exists()){e.next=8;break}return e.abrupt("return",Object.keys(r.val()));case 8:return e.abrupt("return",{});case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},7349:function(e,a,n){n.d(a,{e:function(){return r}});var r=function(e){return e.favorite.favoriteTeacher}},1901:function(e,a){a.Z={wraplist:"teachersList_wraplist__n9t6Q",bntLoad:"teachersList_bntLoad__Vn5Wb"}}}]);
//# sourceMappingURL=324.21886800.chunk.js.map